define("admin/partial/group/group",function(e){"use strict";var t=e("common/module/util/util"),r=e("admin/module/group/pop_alluser"),i=antd.message,o=void 0;!function(){var e=document.querySelectorAll(".user_list"),a=document.querySelectorAll(".role_nav .item");location.href.split("#")[1]?(t.addClass(e[location.href.split("#")[1]],"active"),t.addClass(a[location.href.split("#")[1]],"active")):(t.addClass(e[0],"active"),t.addClass(a[0],"active")),t.bind(document.querySelectorAll(".role_nav .item"),"click",function(){var r=this,i=r.getAttribute("data-index"),o=e[i];t.removeSiblingsClass(r,"active"),t.addClass(r,"active"),t.removeSiblingsClass(o,"active"),t.addClass(o,"active"),window.location.href=location.pathname+"#"+i});var n=!1;t.bind(document.querySelectorAll(".add_user"),"click",function(){var e=this,a=e.getAttribute("data-id");if(o)o.show(a);else{if(n)return void i.info("请稍候，正在加载用户数据");i.info("正在加载用户数据"),n=!0,t.get("/api/account/userList").then(function(e){0==e.error_code?(o=new r(e.data.data),o.show(a)):i.error(e.error_msg),n=!1},function(e){i.error(e),n=!1})}}),t.bind(document.querySelectorAll(".remove_user"),"click",function(){var e=this,r=e.getAttribute("data-uid"),o=e.getAttribute("data-id");return r&&o?void t.post("/api/acl/delGroupUser",{group_id:o,id:r}).then(function(e){0==e.error_code?(i.success("移除成功"),window.location.reload()):i.error(e.error_msg)},function(){i.error("添加失败，请重试")}):void i.error("出错啦，请刷新重试")})}()});