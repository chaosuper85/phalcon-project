define("index/partial/login/login",function(n,i,t){"use strict";t.exports=function(n){function i(){var n=s.val();return 0==n.length?void a("请输入管理员用户名",s,"account"):("account"==u&&e(),n)}function t(){var n=l.val();return 0==n.length?void a("请输入密码",l,"password"):n.length<4?void a("密码不少于4位",l,"password"):("password"==u&&e(),n)}function a(n,i,t){u=t,c.html(n),c.removeClass("invisible"),o(i),clearTimeout(f),f=setTimeout(function(){e()},5e3)}function e(){c.addClass("invisible")}function o(n){n.animate({marginLeft:"-1px"},40).animate({marginLeft:"2px"},40).animate({marginLeft:"-2px"},40).animate({marginLeft:"1px"},40).animate({marginLeft:"0px"},40).focus()}var r=$("#login-submit"),s=$("#login-user"),l=$("#login-pass"),c=$("#login-tip"),u="";$(document).keyup(function(n){13==n.keyCode&&r.trigger("click")}),r.click(function(){var a=i();if(a){var e=t();e&&(r.html("正在登录..."),$.ajax({url:"/api/dologin",type:"post",dataType:"json",data:{username:a,password:e},success:function(i){0==i.error_code?location.href=n.from||"/":(alert(i.error_msg),r.html("登 录"))},error:function(){r.html("登 录")}}))}});var f=null}});