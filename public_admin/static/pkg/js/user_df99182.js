;/*!/user/module/api/api.jsx*/
define("user/module/api/api",function(a,e,t){"use strict";t.exports={agent:{pass:"/api/agent/auditPass",reject:"/api/agent/auditReject",lock:"/api/agent/lockAgent",unlock:"/api/agent/unlockAgent",del:"/api/agent/delAgent"},team:{pass:"/api/carTeam/auditPass",reject:"/api/carTeam/auditReject",lock:"/api/carTeam/lockCarTeam",unlock:"/api/carTeam/unlockCarTeam",del:"/api/carTeam/delCarTeam"}}});
;/*!/user/module/pop_userDetail/pop_userDetail.jsx*/
define("user/module/pop_userDetail/pop_userDetail",function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=e("common/module/util/util"),i=e("user/module/api/api"),r={pass:"通过",reject:"驳回",lock:"锁定",unlock:"解锁",del:"删除"},o=antd.Modal,m=antd.message,d=antd.confirm,p=document.createElement("div");p.id="pop_userDetail",document.getElementById("popups").appendChild(p);var u=React.createClass({displayName:"Popup",getInitialState:function(){return{visible:!1,load:{pass:!1,reject:!1,lock:!1,unlock:!1,del:!1}}},show:function(e){console.log(e),this.props.data=e,this.setState({visible:!0})},handleOk:function(){this.setState({visible:!1})},onChange:function(e){this.setState({value:e.target.value})},actions:function(e){var t=this,a="";a="agent"==this.props.type?i.agent[e]+"?id[]="+this.props.data.team.id:i.team[e]+"?id[]="+this.props.data.team.id,d({title:r[e],content:'确认 "'+r[e]+'" 该用户？',onOk:function(){return m.info("正在发送请求...",3),new Promise(function(n){s.get(a).then(function(a){console.log(a),0==a.error_code?(m.success(a.error_msg,3),location.reload()):m.error(a.error_msg,3),t.setState({load:c({},e,!1)}),n()},function(){t.setState({load:c({},e,!1)}),n()})})}}),this.setState({load:c({},e,!0),visible:!1})},render:function(){if("agent"==this.props.type){var e="";return e=this.props.data.team.cargo_pic?React.createElement("div",null,React.createElement("a",{href:this.props.data.team.cargo_pic,target:"_blank"},React.createElement("img",{src:this.props.data.team.cargo_pic}))):"未上传",React.createElement("div",null,React.createElement("button",{className:"ant-btn ant-btn-primary",onClick:this.showModal},"显示对话框"),React.createElement(o,{title:"货代详情："+this.props.data.com.enterprise_name,width:"800",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,footer:[React.createElement("button",{key:"pass",className:"ant-btn ant-btn-primary "+(this.state.load.pass?"ant-btn-loading":""),onClick:this.actions.bind(this,"pass")},"通过"),React.createElement("button",{key:"reject",className:"ant-btn ant-btn-primary "+(this.state.load.reject?"ant-btn-loading":""),onClick:this.actions.bind(this,"reject")},"驳回"),React.createElement("button",{key:"lock",className:"ant-btn ant-btn-primary "+(this.state.load.lock?"ant-btn-loading":""),onClick:this.actions.bind(this,"lock")},"锁定"),React.createElement("button",{key:"unlock",className:"ant-btn ant-btn-primary "+(this.state.load.unlock?"ant-btn-loading":""),onClick:this.actions.bind(this,"unlock")},"解锁"),React.createElement("button",{key:"del",className:"ant-btn ant-btn-primary "+(this.state.load.del?"ant-btn-loading":""),onClick:this.actions.bind(this,"del")},"删除")]},React.createElement("div",{className:"user-detail"},React.createElement("div",{className:"wrap-left"},React.createElement("dl",null,React.createElement("dd",null,React.createElement("div",{className:"title"},"货代名称"),React.createElement("div",{className:"content"},this.props.data.com.enterprise_name?this.props.data.com.enterprise_name:"无")),React.createElement("dd",null,React.createElement("div",{className:"title"},"企业类型"),React.createElement("div",{className:"content"},"货代")),React.createElement("dd",null,React.createElement("div",{className:"title"},"所在城市"),React.createElement("div",{className:"content"},this.props.data.com.city_id)),React.createElement("dd",null,React.createElement("div",{className:"title"},"成立时间"),React.createElement("div",{className:"content"},this.props.data.com.established_date?this.props.data.com.established_date:"未填写")),React.createElement("dd",null,React.createElement("div",{className:"title"},"营业执照号"),React.createElement("div",{className:"content"},this.props.data.com.enterprise_licence)),React.createElement("dd",null,React.createElement("div",{className:"title"},"营业执照"),React.createElement("div",{className:"content"},React.createElement("a",{href:this.props.data.com.cargo_pic,target:"_blank"},React.createElement("img",{src:this.props.data.com.cargo_pic})))))),React.createElement("div",{className:"wrap-right"},React.createElement("dl",null,React.createElement("dd",null,React.createElement("div",{className:"title"},"用户名"),React.createElement("div",{className:"content"},this.props.data.user.username)),React.createElement("dd",null,React.createElement("div",{className:"title"},"注册手机"),React.createElement("div",{className:"content"},this.props.data.user.mobile)),React.createElement("dd",null,React.createElement("div",{className:"title"},"真实姓名"),React.createElement("div",{className:"content"},this.props.data.user.real_name?this.props.data.user.real_name:"未填写")),React.createElement("dd",null,React.createElement("div",{className:"title"},"联系手机"),React.createElement("div",{className:"content"},this.props.data.user.contactNumber?this.props.data.user.contactNumber:"未填写")),React.createElement("dd",null,React.createElement("div",{className:"title"},"座机"),React.createElement("div",{className:"content"},this.props.data.user.telephone_number?this.props.data.user.telephone_number:"未填写")))))))}return React.createElement("div",null,React.createElement("button",{className:"ant-btn ant-btn-primary",onClick:this.showModal},"显示对话框"),React.createElement(o,{title:"车队详情："+this.props.data.com.enterprise_name,width:"800",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,footer:[React.createElement("button",{key:"pass",className:"ant-btn ant-btn-primary "+(this.state.load.pass?"ant-btn-loading":""),onClick:this.actions.bind(this,"pass")},"通过"),React.createElement("button",{key:"reject",className:"ant-btn ant-btn-primary "+(this.state.load.reject?"ant-btn-loading":""),onClick:this.actions.bind(this,"reject")},"驳回"),React.createElement("button",{key:"lock",className:"ant-btn ant-btn-primary "+(this.state.load.lock?"ant-btn-loading":""),onClick:this.actions.bind(this,"lock")},"锁定"),React.createElement("button",{key:"unlock",className:"ant-btn ant-btn-primary "+(this.state.load.unlock?"ant-btn-loading":""),onClick:this.actions.bind(this,"unlock")},"解锁"),React.createElement("button",{key:"del",className:"ant-btn ant-btn-primary "+(this.state.load.del?"ant-btn-loading":""),onClick:this.actions.bind(this,"del")},"删除")]},React.createElement("div",{className:"user-detail"},React.createElement("div",{className:"wrap-left"},React.createElement("dl",null,React.createElement("dd",null,React.createElement("div",{className:"title"},"车队名称"),React.createElement("div",{className:"content"},this.props.data.com.enterprise_name?this.props.data.com.enterprise_name:"无")),React.createElement("dd",null,React.createElement("div",{className:"title"},"企业类型"),React.createElement("div",{className:"content"},"车队")),React.createElement("dd",null,React.createElement("div",{className:"title"},"所在城市"),React.createElement("div",{className:"content"},this.props.data.com.city_id)),React.createElement("dd",null,React.createElement("div",{className:"title"},"成立时间"),React.createElement("div",{className:"content"},this.props.data.com.established_date?this.props.data.com.established_date:"未填写")),React.createElement("dd",null,React.createElement("div",{className:"title"},"营业执照号"),React.createElement("div",{className:"content"},this.props.data.com.enterprise_licence)),React.createElement("dd",null,React.createElement("div",{className:"title"},"营业执照"),React.createElement("div",{className:"content"},React.createElement("a",{href:this.props.data.com.cargo_pic,target:"_blank"},React.createElement("img",{src:this.props.data.com.cargo_pic})))))),React.createElement("div",{className:"wrap-right"},React.createElement("dl",null,React.createElement("dd",null,React.createElement("div",{className:"title"},"用户名"),React.createElement("div",{className:"content"},this.props.data.user.username)),React.createElement("dd",null,React.createElement("div",{className:"title"},"注册手机"),React.createElement("div",{className:"content"},this.props.data.user.mobile)),React.createElement("dd",null,React.createElement("div",{className:"title"},"真实姓名"),React.createElement("div",{className:"content"},this.props.data.user.real_name?this.props.data.user.real_name:"未填写")),React.createElement("dd",null,React.createElement("div",{className:"title"},"联系手机"),React.createElement("div",{className:"content"},this.props.data.user.contactNumber?this.props.data.user.contactNumber:"未填写")),React.createElement("dd",null,React.createElement("div",{className:"title"},"座机"),React.createElement("div",{className:"content"},this.props.data.user.telephone_number?this.props.data.user.telephone_number:"未填写")))))))}}),h=function(){function e(t,a){n(this,e),this.pop=React.render(React.createElement(u,{data:t,type:a}),p)}return l(e,[{key:"showDetail",value:function(e){this.pop.show(e)}}]),e}();a.exports=h});
;/*!/user/partial/agent/agent.jsx*/
define("user/partial/agent/agent",function(e,t,n){"use strict";function a(){function e(e){m=e}var t=antd.Select,n=t.Option;React.render(React.createElement(t,{defaultValue:m,style:{width:80},onChange:e,placeholder:"查询类型"},React.createElement(n,{value:"agent_name"},"货代名称"),React.createElement(n,{value:"mobile"},"手机号"),React.createElement(n,{value:"name"},"用户名")),document.getElementById("filter_search_type")),React.render(React.createElement(t,{style:{width:100},onChange:e,placeholder:"平台",disabled:!0},React.createElement(n,{value:"PC"},"PC"),React.createElement(n,{value:"Android"},"Android"),React.createElement(n,{value:"iOS"},"iOS")),document.getElementById("filter_platform")),React.render(React.createElement(t,{style:{width:100},onChange:e,placeholder:"版本号",disabled:!0},React.createElement(n,{value:"1.0"},"1.0"),React.createElement(n,{value:"2.0"},"2.0"),React.createElement(n,{value:"3.0"},"3.0")),document.getElementById("filter_version")),r()}function r(){document.getElementById("clearAll").addEventListener("click",function(){var e=o.getParam("status"),t="";e&&(t+="?status="+e),location.href=window.location.pathname+t});var e=document.querySelector(".filter-input");e.value=s,document.getElementById("search").addEventListener("click",function(){return e.value?(u.name="",u.mobile="",u[m]=e.value,void o.redirectParam(u)):void d.info("请输入搜索内容")});var t=document.querySelectorAll(".btn_detail"),n=void 0;o.bind(t,"click",function(){var e=this,t=this.getAttribute("data-id");this.innerHTML='<i class="iconfont icon-loadc loading"></i>',o.get("/api/agent/auditDetail?id="+t).then(function(t){if(setTimeout(function(){e.innerHTML="查看"},500),0==t.error_code){if(!t.data)return void d.info("没有找到待审核信息");n||(n=new i(t.data,"agent")),n.showDetail(t.data,"agent")}else d.error(t.error_msg)},function(){e.innerHTML="查看"})});var a={pass:"通过",reject:"驳回",lock:"锁定",unlock:"解锁",del:"删除"};o.bind(document.querySelectorAll(".table-functions .btn"),"click",function(){var e=document.querySelectorAll(".checkbox_data:checked"),t=[];if(Array.from(e).forEach(function(e){t.push(e.getAttribute("data-id"))}),0==t.length)return void d.info("请选择");var n=this.getAttribute("data-type");l({title:a[n],content:'确认 "'+a[n]+'" 选中'+t.length+"个用户？",onOk:function(){return d.info("正在发送请求...",3),new Promise(function(e){$.ajax({type:"GET",dataType:"json",url:c.agent[n],data:{id:t},success:function(t){if(0==t.error_code)d.success(t.error_msg,3),location.reload();else if(d.error(t.error_msg,3),-2==t.error_code){var n=encodeURIComponent(location.pathname+location.search);location.href=n?"/login?from="+n:"/login"}e()}})})}})})}e("common/widget/table/table");var o=e("common/module/util/util"),i=e("user/module/pop_userDetail/pop_userDetail"),c=e("user/module/api/api"),l=antd.confirm,d=antd.message,u=void 0,m="agent_name",s="",f=["agent_name","name","mobile"];n.exports={init:function(e){u=e||{},f.map(function(e){u.hasOwnProperty(e)&&u[e]&&(m=e,s=u[e])}),a()}}});
;/*!/user/partial/carteam/carteam.jsx*/
define("user/partial/carteam/carteam",function(e,t,a){"use strict";function n(){function e(e){m=e}var t=antd.Select,a=t.Option;React.render(React.createElement(t,{defaultValue:m,style:{width:80},onChange:e,placeholder:"查询类型"},React.createElement(a,{value:"team_name"},"车队名称"),React.createElement(a,{value:"mobile"},"手机号"),React.createElement(a,{value:"name"},"用户名")),document.getElementById("filter_search_type")),React.render(React.createElement(t,{style:{width:100},onChange:e,placeholder:"平台",disabled:!0},React.createElement(a,{value:"PC"},"PC"),React.createElement(a,{value:"Android"},"Android"),React.createElement(a,{value:"iOS"},"iOS")),document.getElementById("filter_platform")),React.render(React.createElement(t,{style:{width:100},onChange:e,placeholder:"版本号",disabled:!0},React.createElement(a,{value:"1.0"},"1.0"),React.createElement(a,{value:"2.0"},"2.0"),React.createElement(a,{value:"3.0"},"3.0")),document.getElementById("filter_version")),r()}function r(){document.getElementById("clearAll").addEventListener("click",function(){var e=o.getParam("status"),t="";e&&(t+="?status="+e),location.href=window.location.pathname+t});var e=document.querySelector(".filter-input");e.value=s,document.getElementById("search").addEventListener("click",function(){return e.value?(u.name="",u.mobile="",u[m]=e.value,void o.redirectParam(u)):void d.error("请输入搜索内容")});var t=document.querySelectorAll(".btn_detail"),a=void 0;o.bind(t,"click",function(){var e=this,t=this.getAttribute("data-id");this.innerHTML='<i class="iconfont icon-loadc loading"></i>',o.get("/api/carTeam/auditDetail?id="+t).then(function(t){if(setTimeout(function(){e.innerHTML="查看"},500),0==t.error_code){if(!t.data)return void d.info("没有找到待审核信息");a||(a=new c(t.data,"carteam")),a.showDetail(t.data,"carteam")}else d.error(t.error_msg)},function(){e.innerHTML="查看"})});var n={pass:"通过",reject:"驳回",lock:"锁定",unlock:"解锁",del:"删除"};o.bind(document.querySelectorAll(".table-functions .btn"),"click",function(){var e=document.querySelectorAll(".checkbox_data:checked"),t=[];if(Array.from(e).forEach(function(e){t.push(e.getAttribute("data-id"))}),0==t.length)return void d.info("请选择");var a=this.getAttribute("data-type");l({title:n[a],content:'确认 "'+n[a]+'" 选中'+t.length+"个用户？",onOk:function(){return d.info("正在发送请求...",3),new Promise(function(e){$.ajax({type:"GET",dataType:"json",url:i.team[a],data:{id:t},success:function(t){if(console.log(t),0==t.error_code)d.success(t.error_msg,3),location.reload();else if(d.error(t.error_msg,3),-2==t.error_code){var a=encodeURIComponent(location.pathname+location.search);location.href=a?"/login?from="+a:"/login"}e()}})})}})})}var o=e("common/module/util/util");e("common/widget/table/table");var c=e("user/module/pop_userDetail/pop_userDetail"),i=e("user/module/api/api"),l=antd.confirm,d=antd.message,u=void 0,m="team_name",s="",f=["team_name","name","mobile"];a.exports={init:function(e){u=e||"",f.map(function(e){u.hasOwnProperty(e)&&u[e]&&(m=e,s=u[e])}),n()}}});
;/*!/user/partial/driver/driver.jsx*/
define("user/partial/driver/driver",function(e,n,r){"use strict";function o(){var e=WebUploader.create({server:"/api/carTeam/importDriver?team_id="+l,pick:"#upload",accept:{extensions:"xlsx,xls"},fileNumLimit:1,fileSingleSizeLimit:2097152});e.on("fileQueued",function(e){c.innerHTML=e.name}),e.on("beforeFileQueued",function(){var n=e.getFiles();n.length&&(e.reset(),c.innerHTML="")}),e.on("uploadProgress",function(e,n){c.innerHTML="正在上传"+100*n+"%"}),e.on("uploadSuccess",function(n,r){0==r.error_code?(t.success(r.error_msg,3e3),setTimeout(function(){location.reload()},2e3)):(t.error(r.error_msg,3e3),e.reset(),c.innerHTML="请重新选择")}),e.on("uploadError",function(){console.log("上传出错")}),e.on("error",function(e){t.error(e in u?u[e]:"出错啦，错误信息："+e)}),e.on("uploadComplete",function(){}),document.getElementById("submit").addEventListener("click",function(){return e.getFiles().length?void e.upload():void t.error("请选择上传文件")})}var i=e("common/module/util/util"),t=antd.message,u={Q_TYPE_DENIED:"只允许上传excel格式文件",F_EXCEED_SIZE:"文件大小不得超过2M",Q_EXCEED_NUM_LIMIT:"一次只能上传一个文件"},c=document.querySelector(".info"),l=i.getTheParam("id");r.exports={init:function(){o()}}});