define("user/partial/carteam/carteam",function(e,t,a){"use strict";function n(){function e(e){m=e}var t=antd.Select,a=t.Option;React.render(React.createElement(t,{defaultValue:m,style:{width:80},onChange:e,placeholder:"查询类型"},React.createElement(a,{value:"team_name"},"车队名称"),React.createElement(a,{value:"mobile"},"手机号"),React.createElement(a,{value:"name"},"用户名")),document.getElementById("filter_search_type")),React.render(React.createElement(t,{style:{width:100},onChange:e,placeholder:"平台",disabled:!0},React.createElement(a,{value:"PC"},"PC"),React.createElement(a,{value:"Android"},"Android"),React.createElement(a,{value:"iOS"},"iOS")),document.getElementById("filter_platform")),React.render(React.createElement(t,{style:{width:100},onChange:e,placeholder:"版本号",disabled:!0},React.createElement(a,{value:"1.0"},"1.0"),React.createElement(a,{value:"2.0"},"2.0"),React.createElement(a,{value:"3.0"},"3.0")),document.getElementById("filter_version")),r()}function r(){document.getElementById("clearAll").addEventListener("click",function(){var e=c.getParam("status"),t="";e&&(t+="?status="+e),location.href=window.location.pathname+t});var e=document.querySelector(".filter-input");e.value=s,document.getElementById("search").addEventListener("click",function(){return e.value?(u.name="",u.mobile="",u[m]=e.value,void c.redirectParam(u)):void d.error("请输入搜索内容")});var t=document.querySelectorAll(".btn_detail"),a=void 0;c.bind(t,"click",function(){var e=this,t=this.getAttribute("data-id");this.innerHTML='<i class="iconfont icon-loadc loading"></i>',c.get("/api/carTeam/auditDetail?id="+t).then(function(t){if(setTimeout(function(){e.innerHTML="查看"},500),0==t.error_code){if(!t.data)return void d.info("没有找到待审核信息");a||(a=new o(t.data,"carteam")),a.showDetail(t.data,"carteam")}else d.error(t.error_msg)},function(){e.innerHTML="查看"})});var n={pass:"通过",reject:"驳回",lock:"锁定",unlock:"解锁",del:"删除"};c.bind(document.querySelectorAll(".table-functions .btn"),"click",function(){var e=document.querySelectorAll(".checkbox_data:checked"),t=[];if(Array.from(e).forEach(function(e){t.push(e.getAttribute("data-id"))}),0==t.length)return void d.info("请选择");var a=this.getAttribute("data-type");l({title:n[a],content:'确认 "'+n[a]+'" 选中'+t.length+"个用户？",onOk:function(){return d.info("正在发送请求...",3),new Promise(function(e){$.ajax({type:"GET",dataType:"json",url:i.team[a],data:{id:t},success:function(t){console.log(t),0==t.error_code?(d.success(t.error_msg,3),location.reload()):d.error(t.error_msg,3),e()}})})}})})}var c=e("common/module/util/util");e("common/widget/table/table");var o=e("user/module/pop_userDetail/pop_userDetail"),i=e("user/module/api/api"),l=antd.confirm,d=antd.message,u=void 0,m="team_name",s="",f=["team_name","name","mobile"];a.exports={init:function(e){u=e||"",f.map(function(e){u.hasOwnProperty(e)&&u[e]&&(m=e,s=u[e])}),n()}}});