define("common/widget/pager/pager",function(e,t,a){var n=e("common/module/util.js");jQuery.fn.pagination=function(e,t){return t=jQuery.extend({items_per_page:10,num_display_entries:10,current_page:0,num_edge_entries:0,link_to:"#",prev_text:" ",next_text:" ",ellipse_text:"..",prev_show_always:!1,next_show_always:!1,path:"",callback:function(){return!1}},t||{}),this.each(function(){function a(){return Math.ceil(e/t.items_per_page)}function n(){var e=Math.ceil(t.num_display_entries/2),n=a(),s=n-t.num_display_entries,r=i>e?Math.max(Math.min(i-e,s),0):0,p=i>e?Math.min(i+e,n):Math.min(t.num_display_entries,n);return[r,p]}function s(e,a){i=e,r();var n=t.callback(e,p);return n||(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0),n}function r(){p.empty();var e=n(),s=a(),r=function(e,a){if(e=0>e?0:s>e?e:s-1,a=jQuery.extend({text:e+1,classes:""},a||{}),e==i)var n=jQuery("<span class='current'>"+a.text+"</span>");else{var r=window.location.pathname+"?";if(t.path?r=r+t.path+"&page=":r+="page=","first"==a.classes||"last"==a.classes)var n=jQuery("<a><div>"+a.text+"</div></a>").attr("href",r+(e+1));else var n=jQuery("<a>"+a.text+"</a>").attr("href",r+(e+1))}a.classes&&n.addClass(a.classes),p.append(n)};if(t.prev_text&&(i>0||t.prev_show_always)&&r(0,{text:"",classes:"first"}),e[0]>0&&t.num_edge_entries>0){for(var _=Math.min(t.num_edge_entries,e[0]),l=0;_>l;l++)r(l,{classes:"page-item"});t.num_edge_entries<e[0]&&t.ellipse_text&&jQuery("<span>"+t.ellipse_text+"</span>").appendTo(p)}for(var l=e[0];l<e[1];l++)r(l,{classes:"page-item"});if(e[1]<s&&t.num_edge_entries>0){s-t.num_edge_entries>e[1]&&t.ellipse_text&&jQuery("<span>"+t.ellipse_text+"</span>").appendTo(p);for(var u=Math.max(s-t.num_edge_entries,e[1]),l=u;s>l;l++)r(l,{classes:"page-item"})}t.next_text&&(s-1>i||t.next_show_always)&&r(s,{text:"",classes:"last"}),p.append("<span class='total-page'>共"+s+"页</span>")}var i=t.current_page;e=!e||0>e?1:e,t.items_per_page=!t.items_per_page||t.items_per_page<0?1:t.items_per_page;var p=jQuery(this);this.selectPage=function(e){s(e)},this.prevPage=function(){return i>0?(s(i-1),!0):!1},this.nextPage=function(){return i<a()-1?(s(i+1),!0):!1},r(),t.callback(i,this)})},a.exports={init:function(e){$(document).ready(function(){var t=n.getQuery("page")||1,a=n.getParam(),s=e;a.hasOwnProperty("page")&&delete a.page;var r=n.getUrl(a);$(".pager").pagination(s,{num_edge_entries:0,current_page:t-1,num_display_entries:5,path:r,items_per_page:1})})}}});