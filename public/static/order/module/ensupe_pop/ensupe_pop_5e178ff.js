define("order/module/ensupe_pop/ensupe_pop",function(require,exports,module){function EnsupePop(e){function t(e){this.type=e.type,this.DOM={};this.DOM={title:this.pop.find(".editBoxNum-title .title-text"),comfireBtn:this.pop.find(".editBoxNum-title .editBoxNum-comfire .comfireBtn"),cancelBtn:this.pop.find(".editBoxNum-title .editBoxNum-cancel .cancelBtn"),boxId:this.pop.find(".editBoxNum-items #editBoxNum-box-id"),boxNum:this.pop.find(".editBoxNum-items #editBoxNum-box-num"),sealNum:this.pop.find(".editBoxNum-items #editBoxNum-seal-num")},o(this);var t=this;this.DOM.cancelBtn.on("click",function(){t.hide()}),this.DOM.comfireBtn.on("click",function(){i(t)})}function o(e){e.DOM.title.text(a),e.DOM.boxId.val(l.data.id),e.DOM.boxNum.val(l.data.boxNum),e.DOM.sealNum.val(l.data.sealNum)}function i(e){var t,o,i;if("add"===e.type){var t="/carteam/order/save_box_ensupe";o={box_code:e.DOM.boxNum.val(),box_ensupe:e.DOM.sealNum.val(),order_box_id:e.DOM.boxId.val(),order_freight_id:l.data.orderId},i="上传成功！"}else{var t="/carteam/order/save_box_ensupe";o={order_box_id:e.DOM.boxId.val(),box_code:e.DOM.boxNum.val(),box_ensupe:e.DOM.sealNum.val(),order_freight_id:l.data.orderId},i="修改成功！"}XDD.Request({url:t,data:o,success:function(t){0==t.error_code?(e.hide(),_alert(i),"function"==typeof e.onComplete&&e.onComplete(o)):_alert(t.error_msg||"未知错误！")}},!0)}var a,d={data:{id:"",boxNum:"",sealNum:"",orderId:""},type:"add"},l=$.extend({},d,e);return a="add"===l.type?"上传箱号/铅封号":"修改箱号/铅封号",t.prototype=new popup({height:300,width:700,tpl:tpl}),t.prototype.constructor=t,t.prototype.setAdd=function(e){type=this.type="add",a="上传箱号/铅封号",this.DOM.title.text(a),this.DOM.boxId.val(e.boxId),this.DOM.boxNum.val(""),this.DOM.sealNum.val("")},t.prototype.setEdit=function(e){e.boxId&&e.boxNum&&e.sealNum&&(type=this.type="edit",a="修改箱号/铅封号",this.DOM.title.text(a),this.DOM.boxId.val(e.boxId),this.DOM.boxNum.val(e.boxNum),this.DOM.sealNum.val(e.sealNum))},t.prototype.onComplete=function(){},new t(l)}var popup=require("common/module/popup/popup.js"),tpl=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<div id="editBoxNum"><div class="editBoxNum-title clearfix"><div class="editBoxNum-cancel"><button class="cancelBtn">取消</button></div><div class="title-text">上传箱号/铅封号</div><div class="editBoxNum-comfire"><button class="comfireBtn">确定</button></div></div><dl class="editBoxNum-items clearfix"><dd class="item"><div class="item-name"><label for="editBoxNum-box-num">箱号：</label></div><div class="item-content"><input type="hidden" id="editBoxNum-box-id" name="editBoxNum-box-id" value="" /><input type="text" placeholder="请输入箱号" id="editBoxNum-box-num" name="editBoxNum-box-num" value="" /></div></dd><dd class="item"><div class="item-name"><label for="editBoxNum-seal-num">铅封号：</label></div><div class="item-content"><input type="text" placeholder="请输入铅封号" id="editBoxNum-seal-num" name="editBoxNum-seal-num" value="" /></div></dd></dl></div>'),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0];module.exports=EnsupePop});