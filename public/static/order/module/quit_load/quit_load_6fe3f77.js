define("order/module/quit_load/quit_load",function(require,exports,module){var popup=require("common/module/popup/popup.js"),tpl=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<div id="quit_loading_box"><div class="logo"></div><dl><dd class="clearfix"><input type="password" id="quit_confirm" placeholder="请输入密码" maxlength="16"/><span class="icon-pass"></span></dd><dd id="quit_captcha_wrap" class="clearfix hidden"><input type="text" id="quit_captcha" placeholder="验证码" maxlength="4"/><div class="captcha-wrap"></div></dd></dl><div id="quit_tip" class="invisible"></div><a href="javascript:;" id="confirm_submit">确定</a></div>'),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],confirmQuit=function(){function t(){e.call(this)}function e(){o.click(function(){var t=$(this),e=a();if(e){var n=t.text();t.html("正在确认..."),t.attr("disabled","disabled"),XDD.Request({url:"/index/do_login",data:{password:e},success:function(e){console.log(e),0==e.error_code?location.href="/order/details":i(e.error_msg),t.html(n),t.removeAttr("disabled")},error:function(){t.html(n),t.removeAttr("disabled")}})}})}function a(){var t=l.val();return(t.length=0)?void i("请输入密码",l,"password"):t.length<6?void i("密码不少于6位",l,"password"):("password"==p&&n(),t)}function i(t,e,a){p=a,d.html(t),d.removeClass("invisible"),e&&r(e),clearTimeout(s),s=setTimeout(function(){n()},5e3)}function n(){d.addClass("invisible")}function r(t){t.animate({marginLeft:"-1px"},40).animate({marginLeft:"2px"},40).animate({marginLeft:"-2px"},40).animate({marginLeft:"1px"},40).animate({marginLeft:"0px"},40).focus()}t.prototype=new popup({title:!1,height:280,width:330,tpl:tpl}),t.prototype.constructor=t,t.prototype.setHeight=function(t){this.pop.height(t)};var o=$("#confirm_submit"),l=$("#quit_confirm"),d=($("#quit_captcha"),$("#quit_tip")),p="",s=null;return new t};module.exports=confirmQuit});