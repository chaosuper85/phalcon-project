define("user/widget/view/account_info/account_info",function(i,n,e){function t(){function i(){for(var i=0;2>=i;i++){var n=$(".input"+i),e=n.prev(),t=e.text();e.hasClass("none")?n.val():n.attr("value",t)}}function n(){var i=$("#input-name"),n=i.val();return""==!n?(i.siblings(".tip").removeClass("invisible"),t("#input-name"),n):(i.siblings(".tip").removeClass("invisible"),i.siblings(".right-mark").addClass("invisible"),s("#input-name"),!1)}function e(){var i=$("#input-phone"),n=i.val(),e=o.isMobilePhone(n);return e?(i.siblings(".tip").removeClass("invisible"),t("#input-phone"),n):(i.siblings(".tip").removeClass("invisible"),i.siblings(".right-mark").addClass("invisible"),s("#input-phone"),!1)}function t(i){var n=$(i).siblings(".tip").children("i");$(n).addClass("i-right")}function s(i){$(i).animate({marginLeft:"-1px"},40).animate({marginLeft:"2px"},40).animate({marginLeft:"-2px"},40).animate({marginLeft:"1px"},40).animate({marginLeft:"0px"},40).focus()}$("html body").on("click","#user_info .user-content .edit #edit-info",function(){$(".show").hide(),$(".input-edit").show(),$(this).hide(),$("#submit-info").show(),i()}),$("html body").on("click","#user_info .edit-dd input",function(){$(this).siblings("#right-mark").addClass("invisible")}),$("html body").on("click","#user_info .user-content .edit #submit-info",function(){var i=n(1),t=$("#input-telephone").val(),o=e(1);o&&i&&XDD.Request({url:"/account/updateBaseInfo",data:{realName:i,contactMobile:o,telephone_number:t},success:function(n){console.log(n),0==n.error_code?(_alert("资料修改成功！"),$("#name").text(i),$("#phone").text(o),$("#telephone").text(t),$(".show").show(),$(".input-edit").hide(),$(this).hide(),$("#edit-info").show(),$("#submit-info").hide(),$(".tip").hide()):_alert(n.error_msg)}})})}i("common/module/upload/uploader.js");var o=i("common/module/util.js");e.exports={init:function(){t()}}});