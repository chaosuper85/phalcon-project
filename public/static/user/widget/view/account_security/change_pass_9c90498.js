define("user/widget/view/account_security/change_pass",function(n,e,a){function t(){function n(n,e){var a=$(n).val(),i=a.length,o=r.isPassword(a);return i?6>i?(t(n),s(n,"密码为6-16位"),!1):o?(s(n,""),a):(t(n),s(n,"密码必须包含字母和数字"),!1):e?(t(n),s(n,"请输入密码"),!1):void 0}function e(n,e,a){var r=$(n).val(),i=$(e).val();return i.length?i!==r?(t(e),s(e,"两次输入密码不一致"),!1):(s(e,""),i):a?(t(e),s(e,"请再次输入密码"),!1):void 0}function a(a){var t=a,r=n("#new-pass",1);if(r)var s=e("#new-pass","#new-repass",1);r&&s&&XDD.Request({url:"/account/changePwd ",data:{oldPwd:t,newPwd:r},success:function(n){0==n.error_code?(_alert("修改密码成功！"),setTimeout("location.href = '/account/personalInfo'",2e3)):_alert(n.error_msg)}})}function t(n){$(n).animate({marginLeft:"-1px"},40).animate({marginLeft:"2px"},40).animate({marginLeft:"-2px"},40).animate({marginLeft:"1px"},40).animate({marginLeft:"0px"},40).focus()}function s(n,e){var a=$(n).siblings(".tip");$(a).addClass("red").html(e)}$("#new-pass").on("blur",function(){n("#new-pass")}),$("#new-repass").on("blur",function(){e("#new-pass","#new-repass")}),$(".next-step").on("click",function(){var e=n("#pass",1);e&&XDD.Request({url:"/user/validatePwd",data:{pwd:e},success:function(n){0==n.error_code?a(e):_alert(n.error_msg)}})})}var r=n("common/module/util.js");a.exports={init:function(){t()}}});